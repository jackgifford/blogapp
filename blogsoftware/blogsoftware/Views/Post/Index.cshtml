@using System.Text
@model IEnumerable<blogsoftware.Models.Post>
@{
    ViewBag.Title = "Posts";
}

<h2>Posts</h2>

@foreach (var item in Model)
{
    <div class="ui stacked segment">
        <h3>@item.Title</h3>
        @{
            var toShow = new StringBuilder();
            for (var i = 0; i < 300; i++)
            {
                if (i < item.Body.Length)
                {
                    toShow.Append(@item.Body[i]);
                }
            }
        }
        <p>@toShow...</p>
        <a class="ui button" href="item/?itemIndex=@item.PostID">Open</a>
    </div>
}
